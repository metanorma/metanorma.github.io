---
layout: author-docs
title: Editor tips
---

The following tips complement the information exposed in this section: link:https://www.metanorma.com/author/ref/asciidoc-tips/[Metanorma AsciiDoc tips]

== Always use lowercase image filenames

If you:

. have a file named `image.PNG` and
. use this line: `image::image.png[]` to include it,

it will work on macOS and Windows, but will fail on Linux!

Linux uses case-sensitive file systems, i.e. `image.PNG` and `image.png` are different file names
and Metanorma will fail to find the specified `image.png`.

If you are on Windows, and have a bunch of filenames ending in .PNG, there is a straightforward way to change them all at once:

1. Go to the folder where the images are located.
2. Place the cursor in the bar address, write "cmd" and press ENTER. The command line will open on that folder location.
3. In the command line, execute the command `ren *.PNG *.png`, and that's it!

== AsciiMath vs. LaTeX math

Math expressions can be written in AsciiMath or LaTeX math format, which is enabled by `:stem:` document attribute. Default option can be changed from AsciiMath to LaTeX math by using `:stem: latexmath`.

It is recommended to use AsciiMath whenever it is possible, especially since the most of the math expressions can be represented this way. However, some special characters require the help of LaTeX math. Examples of such characters are `\backepsilon` (‚àç) and `\mathbb{E}` (ùîº).

In case you are not sure whether the written expression is correct and whether it would render well in either AsciiMath or LaTeX math, you can use https://www.mathjax.org/#demo[MathJax Demo] tool to check the output.

== Math arrays

Do not use the `eqnarray` environment for arrays since it is not supported by https://github.com/plurimath/plurimath[Plurimath].

// TODO: re-write the text below to use Plurimath CLI sofware instead, when it's ready:
// https://github.com/plurimath/plurimath/issues/204
////
If you want to know if an equation will pass, try this:

`math.lxml`
[source,latex]
----
V = \frac{1}{2} \: {\bf u}^t \:
            \int_{surface} \: {B'}^t \: D' \: B' \: ds
               \; {\bf u}
----

Run:

[source,sh]
----
cat math.lxml | latexmlmath -
----
////

== Tables

Each table cell can be formatted separately by prefixing it with corresponding markup elements. But would you really do it if there is some pattern?

In most cases, alignment of the content in one column remains the same for all column cells. _Specifiers_ can help sparing some time by setting alignment per column, rather per cell. They can also contain information about style, or include some special options, such as adding header, footer, setting auto-width, and similar.

Following example illustrates the usage of _specifier_, which left-aligns the first column and prefixes all its cells with `a` to indicate their content should be interpreted as an AsciiDoc content. It horizontally centers the second column and right-aligns the third one, while adding a header option. 

[source,asciidoc]
----
[cols="<a,^,>",options="header"]
|===
| Column 1 | Column 2 | Column 3

| left aligned | centered | right aligned
|===
----

NOTE: Header should always be separated from the rest of the table content by a blank line, in order to properly render long tables, whose header should be repeated at each new page.

== Unnumbering elements

The attribute `%unnumbered` is used to remove the numbering from elements like: equation blocks, figures, tables, notes, examples, and code blocks. However, it cannot be used for sections and subsections.

[source,asciidoctor]
.Example of unnumbering elements
----
//Unnumbered image
[%unnumbered]
.Caption image
image::filename.png[]

//Unnumbered table
.Caption table
[%unnumbered]
|===
| This | is 
| a | table
|===

//Unnumbered equation
[stem%unnumbered]
++++
y = x^2
++++
----

== Removing title from sections and subsections

In case some section or subsection needs to be unnumbered and untitled, you can use `\{blank}` attribute to achieve that.

[source,asciidoctor]
.Example of using `\{blank}` attribute
----
//Blank section
== {blank}
Text

//Blank subsection
=== {blank}
Text
----

== Escaping characters

Like in normal AsciiDoc, you can escape special characters by prefixing the backslash (`\`) character to the character you want to escape. But, until certain point. There are some cases where this approach will not work. For instance, if you wanted to render a double hyphen `--` instead of an em-dash `‚Äî`, you wouldn't be able to do it with `\--` (like in normal Asciidoc). Instead of that, you could use the _Zero Width Non Joiner_ entity `\&#x200c;`, applied like this: `-\&#x200c;-`, which would result in `--`. 

In general terms, you can try escaping by using backslash first, and if that doesn't happen to work, use `\&#x200c;` instead.

== Avoid using numeric references in Normative reference clause

Numeric references are not allowed inside _Normative references_ clause.
If a reference cannot be auto-fetched by taking the standard identifier
as reference tag, any other text can be used.

For example, we can write this:

[source,adoc]
----
[bibliography]
== Normative references
...
* [[[netcdf,LLNL NetCDF CF Metadata Conventions]]], Lawrence Livermore National Laboratory: NetCDF CF Metadata Conventions ‚Äì http://cfconventions.org/
* [[[acdd,ESIP ACDD]]], ESIP: Attribute Convention for Data Discovery (ACDD) ‚Äì http://wiki.esipfed.org/index.php/Attribute_Convention_for_Data_Discovery
* [[[noaa,NOAA NCEI netCDF Templates]]], NOAA: NCEI netCDF Templates ‚Äì http://www.nodc.noaa.gov/data/formats/netcdf/
----

but not this:

[source,adoc]
----
[bibliography]
== Normative references
...
* [[[netcdf,1]]], Lawrence Livermore National Laboratory: NetCDF CF Metadata Conventions ‚Äì http://cfconventions.org/
* [[[acdd,2]]], ESIP: Attribute Convention for Data Discovery (ACDD) ‚Äì http://wiki.esipfed.org/index.php/Attribute_Convention_for_Data_Discovery
* [[[noaa,3]]], NOAA: NCEI netCDF Templates ‚Äì http://www.nodc.noaa.gov/data/formats/netcdf/
----

These cases are only permitted in the _Bibliography_ clause,
which can contain both generic and standard references.

In some flavors, like OGC, if a numeric reference gets included in the
_Normative references_ clause, the compiler won't permit document generation.
In others, document generation will occur but possibly with incorrect results.

For more information about composing references and bibliography,
see: https://www.metanorma.org/author/topics/sections/bibliography/

== FAQ

=== How can I nest additional content to a list item?

This is a recurrent situation indeed, and it can be handled by using open blocks:

[source,asciidoctor]
----
--
This is an open block
--
----

Which, along with the concatenation character `+`, can be used in the following form:

[source,asciidoctor]
.List item with block concatenation
----
. This line is a list item.
+
--
And this line is concatenated to the list item by using an open block.
--
----

.Result: List item with block concatenation
image::images/faq-1.png[]

You can basically put any markup into the concatenated open block: paragraphs, notes, examples, tables, lists, etc.

=== How can I nest additional elements in a table?

If you were wondering whether nesting elements in a table is allowed, the answer is yes. Figures, sourcecodes, math expressions and item lists can be added to a table. Cell which needs to contain such a content has to be prefixed with an `a`, so the processor can interpret it as AsciiDoc content.

The example of nesting a figure and an item list in a table is shown below. Other additional elements can be nested analogously.

[source,asciidoc]
----
|===
//Nesting an unnumbered figure
a| [%unnumbered]
image::image01.png[]

//Nesting an item list
a| Some text

* item 1
* item 2
|===
----

NOTE: When nesting an item list in a table cell, one blank line needs to be present before the first asterisk (`*`) or dot (`.`) used as an indicator for the first item on a list.

=== Why sometimes I get extremely wide tables in DOC output?

This happens because there is one or more cells containing long string characters that make the table wide beyond the borders of the page. In that case, you would need to include the `:break-up-urls-in-tables:` attribute in the preamble in order to divide in lines any long string characters, and thus, shrink the table.